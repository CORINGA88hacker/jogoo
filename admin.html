
<!doctype html>
<html lang="pt-BR">
<head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Admin</title><link rel="stylesheet" href="style.css"></head>
<body class="theme-dark">
  <main class="container">
    <h2>Painel Admin</h2>
    <div id="adminArea">
      <p>Ver mensagens e moderar (somente admin).</p>
      <div id="msgs"></div>
    </div>
  </main>
  <script src="firebase.js"></script>
  <script>
  async function loadAdmin(){
    const msgs = await firebaseFetchChat();
    const el = document.getElementById('msgs');
    el.innerHTML = '';
    msgs.forEach(m => {
      const div = document.createElement('div');
      div.className='admin-msg';
      div.innerHTML = `<img src="${m.photo||'personagem_05.png'}" class="mini"/><strong>${m.user}</strong>: ${m.text} <button onclick="del('${m.id}')">Apagar</button>`;
      el.appendChild(div);
    });
  }
  async function del(id){ await firebaseDeleteMessage(id); loadAdmin(); }
  loadAdmin();
  </script>
</body>
</html>
